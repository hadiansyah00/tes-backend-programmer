paths:
  /registration:
    post:
      tags:
        - Membership
      summary: Registrasi User
      description: >
        Endpoint untuk registrasi user baru.
        Setelah registrasi berhasil, user wajib login melalui endpoint /login
        untuk mendapatkan token JWT.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
                - first_name
                - last_name
                - password
              properties:
                email:
                  type: string
                  format: email
                  example: user@nutech-integrasi.com
                first_name:
                  type: string
                  example: User
                last_name:
                  type: string
                  example: Nutech
                password:
                  type: string
                  example: hadi1234
      responses:
        "200":
          description: Registrasi berhasil
          content:
            application/json:
              examples:
                success:
                  value:
                    status: 0
                    message: Registrasi berhasil silahkan login
                    data: null
                email_invalid:
                  value:
                    status: 102
                    message: Paramter email tidak sesuai format
                    data: null

  /login:
  post:
    tags:
      - Membership
    summary: Login User
    description: >
      Endpoint untuk autentikasi user.
      Jika berhasil, sistem akan mengembalikan token JWT.
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            required:
              - email
              - password
            properties:
              email:
                type: string
                format: email
                example: user@nutech-integrasi.com
              password:
                type: string
                example: hadi1234
    responses:
      "200":
        description: Login Response
        content:
          application/json:
            examples:
              success:
                summary: Login Berhasil
                value:
                  status: 0
                  message: Login Sukses
                  data:
                    token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
              email_invalid:
                summary: Format Email Tidak Valid
                value:
                  status: 102
                  message: Paramter email tidak sesuai format
                  data: null
              login_failed:
                summary: Username atau Password Salah
                value:
                  status: 103
                  message: Username atau password salah
                  data: null
/profile:
  get:
    tags:
      - Membership
    summary: Get Profile User
    description: |
      API Profile **Private** (memerlukan Bearer Token JWT).

      Digunakan untuk mendapatkan informasi profile user yang sedang login.

      **Ketentuan:**
      - Service ini wajib menggunakan **Bearer Token JWT**
      - Tidak ada parameter `email` di query maupun request body
      - Email user diambil dari **payload JWT**
      - Response mengikuti standar dokumentasi
    security:
      - bearerAuth: []
    responses:
      "200":
        description: Berhasil mengambil profile
        content:
          application/json:
            example:
              status: 0
              message: Success
              data:
                email: user@nutech-integrasi.com
                first_name: User
                last_name: Nutech
                profile_image: https://example.com/profile.jpg
      "401":
        description: Token tidak valid atau kadaluarsa
        content:
          application/json:
            example:
              status: 108
              message: Token tidak valid atau kadaluarsa
              data: null
  put:
    tags:
      - Membership
    summary: Update Profile User
    description: |
      API Update Profile **Private** (memerlukan Bearer Token JWT).

      Digunakan untuk mengupdate data profile user yang sedang login.

      **Ketentuan:**
      - Service ini wajib menggunakan **Bearer Token JWT**
      - Tidak ada parameter `email` di query maupun request body
      - Email user diambil dari **payload JWT**
      - Hanya field `first_name` dan `last_name` yang dapat diupdate
    security:
      - bearerAuth: []
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            required:
              - first_name
              - last_name
            properties:
              first_name:
                type: string
                example: User
              last_name:
                type: string
                example: Update
    responses:
      "200":
        description: Profile berhasil diupdate
        content:
          application/json:
            example:
              status: 0
              message: Update Profile Success
              data:
                email: user@nutech-integrasi.com
                first_name: User
                last_name: Update
                profile_image: https://example.com/profile.jpg
      "401":
        description: Token tidak valid atau kadaluarsa
        content:
          application/json:
            example:
              status: 108
              message: Token tidak valid atau kadaluarsa
              data: null
/profile/image:
  put:
    tags:
      - Membership
    summary: Update Profile Image
    description: |
      API Update Profile Image **Private** (memerlukan Bearer Token JWT).

      Digunakan untuk mengupdate foto profile user.

      **Ketentuan:**
      - Service ini wajib menggunakan **Bearer Token JWT**
      - Tidak ada parameter `email` di query maupun request body
      - Email user diambil dari **payload JWT**
      - Upload menggunakan **multipart/form-data**
    security:
      - bearerAuth: []
    requestBody:
      required: true
      content:
        multipart/form-data:
          schema:
            type: object
            required:
              - profile_image
            properties:
              profile_image:
                type: string
                format: binary
    responses:
      "200":
        description: Profile image berhasil diupdate
        content:
          application/json:
            example:
              status: 0
              message: Update Profile Image Success
              data:
                profile_image: https://example.com/profile-updated.jpg
      "401":
        description: Token tidak valid atau kadaluarsa
        content:
          application/json:
            example:
              status: 108
              message: Token tidak valid atau kadaluarsa
              data: null
